"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[355],{2355:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var i,r,a,o,c,l,s,d,u,p,h,f=t(4270),x=t(9439),m=t(2791),g=t(9434),b=t(1686),Z=t.n(b),w=t(6299),j=function(n){return n.contacts.items},v=function(n){return n.filter.value},y=t(168),C=t(6487),_=C.ZP.form(i||(i=(0,y.Z)(["\n  box-sizing: border-box;\n  padding: 30px;\n  width: 360px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border: 1px solid #c8cbcc;\n  margin-top: 125px;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 5px;\n"]))),P=C.ZP.label(r||(r=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),k=(C.ZP.input(a||(a=(0,y.Z)(["\n  margin-top: 10px;\n  padding: 5px;\n"]))),C.ZP.button(o||(o=(0,y.Z)(["\n  margin-top: 20px;\n  width: 100px;\n  height: 22px;\n  cursor: pointer;\n"]))),t(9822)),N="Loader_Spinner__QiLAG",L="Loader_SpinnerButton__4GyOp",S=t(184),F=function(n){var e=n.height,t=n.width;return(0,S.jsx)("div",{className:L,children:(0,S.jsx)(k.NB,{visible:!0,height:e,width:t,ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})},z=function(n){var e=n.height,t=n.width;return(0,S.jsx)("div",{className:N,children:(0,S.jsx)(k.NB,{visible:!0,height:e,width:t,ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})},A=t(5685),B=t(4281),E=function(){var n=(0,m.useState)(""),e=(0,x.Z)(n,2),t=e[0],i=e[1],r=(0,m.useState)(""),a=(0,x.Z)(r,2),o=a[0],c=a[1],l=(0,m.useState)(!1),s=(0,x.Z)(l,2),d=s[0],u=s[1],p=(0,g.I0)(),h=(0,g.v9)(j),f=function(n){var e=n.target,t=e.name,r=e.value;"name"===t?i(r):"number"===t&&c(r.trim())};return(0,S.jsxs)(_,{onSubmit:function(n){n.preventDefault(),function(n,e){h.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?Z().Notify.failure('The name "'.concat(n,'" already exists!')):(u(!0),p((0,w.uK)({name:n,number:e})).then((function(){Z().Notify.success('You added contact with name "'.concat(n,'"')),i(""),c("")})).catch((function(n){console.log("Error:",n),Z().Notify.failure("Contact could not be added")})).finally((function(){u(!1)})))}(t,o)},children:[(0,S.jsx)(P,{children:(0,S.jsx)(A.Z,{id:"name",label:"Name",variant:"outlined",type:"text",name:"name",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:f})}),(0,S.jsx)(P,{children:(0,S.jsx)(A.Z,{id:"tel",label:"Phone number",type:"tel",name:"number",value:o,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:f})}),(0,S.jsx)(B.Z,{variant:"contained",type:"submit",children:d?(0,S.jsx)(F,{height:"24.5",width:"24.5"}):"Add contact"})]})},q=t(4942),G=t(1413),I=(C.ZP.button(c||(c=(0,y.Z)(["\n  cursor: pointer;\n  min-width: 70px;\n  ","\n"])),""),C.ZP.ul(l||(l=(0,y.Z)(["\n  padding-left: 0px;\n  width: 350px;\n  margin-top: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  li:nth-child(even) {\n    background-color: #f0f0f0;\n  }\n  border: 1px solid #c8cbcc;\n  border-radius: 5px;\n  padding-top: 5px;\n  padding-right: 5px;\n  padding-left: 5px;\n"])))),D=C.ZP.li(s||(s=(0,y.Z)(["\n  margin-bottom: 5px;\n  list-style: none;\n"]))),K=C.ZP.p(d||(d=(0,y.Z)(["\n  margin: 0px;\n  font-size: 14px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 5px;\n"]))),Y=function(){var n=(0,m.useState)(!1),e=(0,x.Z)(n,2),t=e[0],i=e[1],r=(0,m.useState)(!1),a=(0,x.Z)(r,2),o=a[0],c=a[1],l=(0,g.I0)(),s=(0,g.v9)(j),d=(0,g.v9)(v);(0,m.useEffect)((function(){c(!0),l((0,w.yF)()).then((function(){c(!1)})).catch((function(n){console.error("Error fetching contacts:",n),c(!1)}))}),[l]);return(0,S.jsx)(S.Fragment,{children:o?(0,S.jsx)(z,{height:"80",width:"80"}):(0,S.jsx)(I,{children:s.filter((function(n){return n.name.toLowerCase().includes(d.toLowerCase())})).map((function(n){var e=n.id,r=n.name,a=n.number;return(0,S.jsx)(D,{children:(0,S.jsxs)(K,{children:[r,": ",a,(0,S.jsx)(B.Z,{variant:"contained",type:"button",onClick:function(){return function(n){i((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,q.Z)({},n,!0))})),l((0,w.GK)(n)).then((function(){i((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,q.Z)({},n,!1))})),Z().Notify.success("Contact deleted")})).catch((function(e){i((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,q.Z)({},n,!1))})),console.error("Error deleting contact:",e),Z().Notify.failure("Failed to delete contact")}))}(e)},size:"small",children:t[e]?(0,S.jsx)(F,{height:"22.75",width:"22.75"}):"Delete"})]})},e)}))})})},J=t(7840),M=C.ZP.label(u||(u=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 360px;\n  margin-top: 20px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),O=(C.ZP.input(p||(p=(0,y.Z)(["\n  margin-top: 5px;\n  padding: 5px;\n"]))),C.ZP.p(h||(h=(0,y.Z)(["\n  margin: 0;\n"]))),function(){var n=(0,g.I0)();return(0,S.jsx)("div",{children:(0,S.jsx)(M,{children:(0,S.jsx)(A.Z,{label:"Find contacts by name",variant:"outlined",type:"text",onChange:function(e){n((0,J.hX)(e.target.value.toLowerCase()))}})})})});function Q(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.q,{children:(0,S.jsx)("title",{children:"Your contacts"})}),(0,S.jsx)(E,{}),(0,S.jsx)(O,{}),(0,S.jsx)(Y,{})]})}}}]);
//# sourceMappingURL=355.679841ad.chunk.js.map