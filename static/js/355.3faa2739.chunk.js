"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[355],{2355:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var r,i,a,o,c,s,l,u,d,h,p,f=t(4270),x=t(9439),b=t(2791),m=t(9434),g=t(1686),Z=t.n(g),w=t(8097),j=function(n){return n.contacts.items},y=function(n){return n.filter.value},v=t(168),C=t(5867),_=C.ZP.form(r||(r=(0,v.Z)(["\n  box-sizing: border-box;\n  padding: 30px;\n  width: 360px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border: 1px solid black;\n"]))),k=C.ZP.label(i||(i=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),N=C.ZP.input(a||(a=(0,v.Z)(["\n  margin-top: 10px;\n  padding: 5px;\n"]))),P=C.ZP.button(o||(o=(0,v.Z)(["\n  margin-top: 20px;\n  width: 100px;\n  height: 22px;\n  cursor: pointer;\n"]))),L=t(9856),S="Loader_Spinner__QiLAG",F="Loader_SpinnerButton__4GyOp",A=t(184),B=function(n){var e=n.height,t=n.width;return(0,A.jsx)("div",{className:F,children:(0,A.jsx)(L.NB,{visible:!0,height:e,width:t,ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})},E=function(n){var e=n.height,t=n.width;return(0,A.jsx)("div",{className:S,children:(0,A.jsx)(L.NB,{visible:!0,height:e,width:t,ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})},q=function(){var n=(0,b.useState)(""),e=(0,x.Z)(n,2),t=e[0],r=e[1],i=(0,b.useState)(""),a=(0,x.Z)(i,2),o=a[0],c=a[1],s=(0,b.useState)(!1),l=(0,x.Z)(s,2),u=l[0],d=l[1],h=(0,m.I0)(),p=(0,m.v9)(j),f=function(n){var e=n.target,t=e.name,i=e.value;"name"===t?r(i):"number"===t&&c(i.trim())};return(0,A.jsxs)(_,{onSubmit:function(n){n.preventDefault(),function(n,e){p.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?Z().Notify.failure('The name "'.concat(n,'" already exists!')):(d(!0),h((0,w.uK)({name:n,number:e})).then((function(){Z().Notify.success('You added contact with name "'.concat(n,'"')),r(""),c("")})).catch((function(n){console.log("Error:",n),Z().Notify.failure("Contact could not be added")})).finally((function(){d(!1)})))}(t,o)},children:[(0,A.jsxs)(k,{children:["Name",(0,A.jsx)(N,{type:"text",name:"name",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:f})]}),(0,A.jsxs)(k,{children:["Number",(0,A.jsx)(N,{type:"tel",name:"number",value:o,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:f})]}),(0,A.jsx)(P,{type:"submit",children:u?(0,A.jsx)(B,{height:"18",width:"18"}):"Add contact"})]})},z=t(4942),G=t(1413),I=C.ZP.button(c||(c=(0,v.Z)(["\n  cursor: pointer;\n  min-width: 70px;\n  ","\n"])),""),D=C.ZP.ul(s||(s=(0,v.Z)(["\n  padding-left: 0px;\n  width: 360px;\n  li:nth-child(even) {\n    background-color: #f0f0f0;\n  }\n"]))),K=C.ZP.li(l||(l=(0,v.Z)(["\n  margin-bottom: 5px;\n  list-style: none;\n"]))),Y=C.ZP.p(u||(u=(0,v.Z)(["\n  margin: 0px;\n  font-size: 14px;\n  display: flex;\n  justify-content: space-between;\n"]))),J=function(){var n=(0,b.useState)(!1),e=(0,x.Z)(n,2),t=e[0],r=e[1],i=(0,b.useState)(!1),a=(0,x.Z)(i,2),o=a[0],c=a[1],s=(0,m.I0)(),l=(0,m.v9)(j),u=(0,m.v9)(y);(0,b.useEffect)((function(){c(!0),s((0,w.yF)()).then((function(){c(!1)})).catch((function(n){console.error("Error fetching contacts:",n),c(!1)}))}),[s]);return(0,A.jsx)(A.Fragment,{children:o?(0,A.jsx)(E,{height:"80",width:"80"}):(0,A.jsx)(D,{children:l.filter((function(n){return n.name.toLowerCase().includes(u.toLowerCase())})).map((function(n){var e=n.id,i=n.name,a=n.number;return(0,A.jsx)(K,{children:(0,A.jsxs)(Y,{children:[i,": ",a,(0,A.jsx)(I,{type:"button",onClick:function(){return function(n){r((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,z.Z)({},n,!0))})),s((0,w.GK)(n)).then((function(){r((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,z.Z)({},n,!1))})),Z().Notify.success("Contact deleted")})).catch((function(e){r((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,z.Z)({},n,!1))})),console.error("Error deleting contact:",e),Z().Notify.failure("Failed to delete contact")}))}(e)},children:t[e]?(0,A.jsx)(B,{height:"18",width:"18"}):"Delete"})]})},e)}))})})},M=t(7840),O=C.ZP.label(d||(d=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 360px;\n"]))),Q=C.ZP.input(h||(h=(0,v.Z)(["\n  margin-top: 5px;\n  padding: 5px;\n"]))),T=C.ZP.p(p||(p=(0,v.Z)(["\n  margin: 0;\n"]))),X=function(){var n=(0,m.I0)();return(0,A.jsx)("div",{children:(0,A.jsxs)(O,{children:[(0,A.jsx)(T,{children:" Find contacts by name"}),(0,A.jsx)(Q,{type:"text",onChange:function(e){n((0,M.hX)(e.target.value.toLowerCase()))}})]})})};function H(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.q,{children:(0,A.jsx)("title",{children:"Your contcts"})}),(0,A.jsx)(q,{}),(0,A.jsx)(X,{}),(0,A.jsx)(J,{})]})}}}]);
//# sourceMappingURL=355.3faa2739.chunk.js.map